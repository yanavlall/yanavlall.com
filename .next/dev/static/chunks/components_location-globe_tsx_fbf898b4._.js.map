{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yanavlall/Documents/GitHub/yanavlall.com/components/location-globe.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport mapboxgl from \"mapbox-gl\"\nimport \"mapbox-gl/dist/mapbox-gl.css\"\n\n// Jerry House, 658 Lomita Ct, Stanford CA 94305\nconst CURRENT = { lat: 37.42823, lng: -122.168861 }\n// R 585, New Rajendra Nagar, New Delhi\nconst HOME = { lat: 28.637235, lng: 77.182364 }\n\nconst STANFORD = CURRENT;\nconst NEW_DELHI = HOME;\n\nexport function LocationGlobe() {\n  const mapContainer = useRef<HTMLDivElement>(null)\n  const map = useRef<mapboxgl.Map | null>(null)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!mapContainer.current || map.current) return\n\n    const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN?.trim()\n    \n    if (!token) {\n      setError(\"Mapbox token not configured\")\n      return\n    }\n\n    mapboxgl.accessToken = token\n\n    try {\n      map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: \"mapbox://styles/mapbox/satellite-streets-v12\",\n        center: [0, 20],\n        zoom: 1.5,\n        projection: \"globe\",\n        attributionControl: false,\n      })\n    } catch (err) {\n      setError(\"Failed to initialize map\")\n      console.log(\"[v0] Map init error:\", err)\n      return\n    }\n\n    map.current.on(\"error\", (e) => {\n      console.log(\"[v0] Mapbox error:\", e.error)\n    })\n\n    map.current.on(\"style.load\", () => {\n      if (!map.current) return\n\n      // Add atmosphere and stars\n      map.current.setFog({\n        color: \"rgb(186, 210, 235)\",\n        \"high-color\": \"rgb(36, 92, 223)\",\n        \"horizon-blend\": 0.02,\n        \"space-color\": \"rgb(11, 11, 25)\",\n        \"star-intensity\": 0.6,\n      })\n\n      setIsLoaded(true)\n    })\n\n    map.current.on(\"load\", () => {\n      if (!map.current) return\n\n      // Add arc line connecting the two locations\n      map.current.addSource(\"route\", {\n        type: \"geojson\",\n        data: {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: [\n              [STANFORD.lng, STANFORD.lat],\n              [NEW_DELHI.lng, NEW_DELHI.lat],\n            ],\n          },\n        },\n      })\n\n      map.current.addLayer({\n        id: \"route\",\n        type: \"line\",\n        source: \"route\",\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\",\n        },\n        paint: {\n          \"line-color\": \"#a855f7\",\n          \"line-width\": 3,\n          \"line-opacity\": 0.8,\n        },\n      })\n\n      // Stanford marker (green)\n      const stanfordEl = document.createElement(\"div\")\n      stanfordEl.className = \"stanford-marker\"\n      stanfordEl.innerHTML = `\n        <div style=\"\n          width: 20px;\n          height: 20px;\n          background: #22c55e;\n          border: 3px solid white;\n          border-radius: 50%;\n          box-shadow: 0 0 12px rgba(34, 197, 94, 0.7);\n          cursor: pointer;\n        \"></div>\n      `\n\n      new mapboxgl.Marker(stanfordEl)\n        .setLngLat([STANFORD.lng, STANFORD.lat])\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<div style=\"font-weight: 600; color: #22c55e;\">Current</div>`\n          )\n        )\n        .addTo(map.current)\n\n      // New Delhi marker (orange)\n      const delhiEl = document.createElement(\"div\")\n      delhiEl.className = \"delhi-marker\"\n      delhiEl.innerHTML = `\n        <div style=\"\n          width: 20px;\n          height: 20px;\n          background: #f97316;\n          border: 3px solid white;\n          border-radius: 50%;\n          box-shadow: 0 0 12px rgba(249, 115, 22, 0.7);\n          cursor: pointer;\n        \"></div>\n      `\n\n      new mapboxgl.Marker(delhiEl)\n        .setLngLat([NEW_DELHI.lng, NEW_DELHI.lat])\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<div style=\"font-weight: 600; color: #f97316;\">Home</div>`\n          )\n        )\n        .addTo(map.current)\n    })\n\n    // Add navigation controls\n    map.current.addControl(new mapboxgl.NavigationControl(), \"top-right\")\n\n    // Cleanup\n    return () => {\n      if (map.current) {\n        map.current.remove()\n        map.current = null\n      }\n    }\n  }, [])\n\n  if (error) {\n    return (\n      <div className=\"w-full h-[400px] rounded-xl bg-slate-900 flex items-center justify-center\">\n        <div className=\"text-white/60\">{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"relative h-[400px] w-full rounded-xl overflow-hidden\">\n        {!isLoaded && (\n          <div className=\"absolute inset-0 bg-slate-900 flex items-center justify-center z-10\">\n            <div className=\"text-white/60\">Loading globe...</div>\n          </div>\n        )}\n        <div ref={mapContainer} className=\"w-full h-full\" style={{ filter: \"brightness(1.15) saturate(1.1)\" }} />\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex justify-center gap-6 mt-3 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]\" />\n          <span className=\"text-muted-foreground\">Current</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.6)]\" />\n          <span className=\"text-muted-foreground\">Home</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}