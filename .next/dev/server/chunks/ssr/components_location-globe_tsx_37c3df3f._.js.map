{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yanavlall/Documents/GitHub/yanavlall.com/components/location-globe.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport mapboxgl from \"mapbox-gl\"\nimport \"mapbox-gl/dist/mapbox-gl.css\"\n\n// Jerry House, 658 Lomita Ct, Stanford CA 94305\nconst CURRENT = { lat: 37.42823, lng: -122.168861 }\n// R 585, New Rajendra Nagar, New Delhi\nconst HOME = { lat: 28.637235, lng: 77.182364 }\n\nconst STANFORD = CURRENT;\nconst NEW_DELHI = HOME;\n\nexport function LocationGlobe() {\n  const mapContainer = useRef<HTMLDivElement>(null)\n  const map = useRef<mapboxgl.Map | null>(null)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!mapContainer.current || map.current) return\n\n    const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN?.trim()\n    \n    if (!token) {\n      setError(\"Mapbox token not configured\")\n      return\n    }\n\n    mapboxgl.accessToken = token\n\n    try {\n      map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: \"mapbox://styles/mapbox/satellite-streets-v12\",\n        center: [0, 20],\n        zoom: 1.5,\n        projection: \"globe\",\n        attributionControl: false,\n      })\n    } catch (err) {\n      setError(\"Failed to initialize map\")\n      console.log(\"[v0] Map init error:\", err)\n      return\n    }\n\n    map.current.on(\"error\", (e) => {\n      console.log(\"[v0] Mapbox error:\", e.error)\n    })\n\n    map.current.on(\"style.load\", () => {\n      if (!map.current) return\n\n      // Add atmosphere and stars\n      map.current.setFog({\n        color: \"rgb(186, 210, 235)\",\n        \"high-color\": \"rgb(36, 92, 223)\",\n        \"horizon-blend\": 0.02,\n        \"space-color\": \"rgb(11, 11, 25)\",\n        \"star-intensity\": 0.6,\n      })\n\n      setIsLoaded(true)\n    })\n\n    map.current.on(\"load\", () => {\n      if (!map.current) return\n\n      // Add arc line connecting the two locations\n      map.current.addSource(\"route\", {\n        type: \"geojson\",\n        data: {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: [\n              [STANFORD.lng, STANFORD.lat],\n              [NEW_DELHI.lng, NEW_DELHI.lat],\n            ],\n          },\n        },\n      })\n\n      map.current.addLayer({\n        id: \"route\",\n        type: \"line\",\n        source: \"route\",\n        layout: {\n          \"line-join\": \"round\",\n          \"line-cap\": \"round\",\n        },\n        paint: {\n          \"line-color\": \"#a855f7\",\n          \"line-width\": 3,\n          \"line-opacity\": 0.8,\n        },\n      })\n\n      // Stanford marker (green)\n      const stanfordEl = document.createElement(\"div\")\n      stanfordEl.className = \"stanford-marker\"\n      stanfordEl.innerHTML = `\n        <div style=\"\n          width: 20px;\n          height: 20px;\n          background: #22c55e;\n          border: 3px solid white;\n          border-radius: 50%;\n          box-shadow: 0 0 12px rgba(34, 197, 94, 0.7);\n          cursor: pointer;\n        \"></div>\n      `\n\n      new mapboxgl.Marker(stanfordEl)\n        .setLngLat([STANFORD.lng, STANFORD.lat])\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<div style=\"font-weight: 600; color: #22c55e;\">Current</div>`\n          )\n        )\n        .addTo(map.current)\n\n      // New Delhi marker (orange)\n      const delhiEl = document.createElement(\"div\")\n      delhiEl.className = \"delhi-marker\"\n      delhiEl.innerHTML = `\n        <div style=\"\n          width: 20px;\n          height: 20px;\n          background: #f97316;\n          border: 3px solid white;\n          border-radius: 50%;\n          box-shadow: 0 0 12px rgba(249, 115, 22, 0.7);\n          cursor: pointer;\n        \"></div>\n      `\n\n      new mapboxgl.Marker(delhiEl)\n        .setLngLat([NEW_DELHI.lng, NEW_DELHI.lat])\n        .setPopup(\n          new mapboxgl.Popup({ offset: 25 }).setHTML(\n            `<div style=\"font-weight: 600; color: #f97316;\">Home</div>`\n          )\n        )\n        .addTo(map.current)\n    })\n\n    // Add navigation controls\n    map.current.addControl(new mapboxgl.NavigationControl(), \"top-right\")\n\n    // Cleanup\n    return () => {\n      if (map.current) {\n        map.current.remove()\n        map.current = null\n      }\n    }\n  }, [])\n\n  if (error) {\n    return (\n      <div className=\"w-full h-[400px] rounded-xl bg-slate-900 flex items-center justify-center\">\n        <div className=\"text-white/60\">{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"relative h-[400px] w-full rounded-xl overflow-hidden\">\n        {!isLoaded && (\n          <div className=\"absolute inset-0 bg-slate-900 flex items-center justify-center z-10\">\n            <div className=\"text-white/60\">Loading globe...</div>\n          </div>\n        )}\n        <div ref={mapContainer} className=\"w-full h-full\" style={{ filter: \"brightness(1.15) saturate(1.1)\" }} />\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex justify-center gap-6 mt-3 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]\" />\n          <span className=\"text-muted-foreground\">Current</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded-full bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.6)]\" />\n          <span className=\"text-muted-foreground\">Home</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;;AAMA,gDAAgD;AAChD,MAAM,UAAU;IAAE,KAAK;IAAU,KAAK,CAAC;AAAW;AAClD,uCAAuC;AACvC,MAAM,OAAO;IAAE,KAAK;IAAW,KAAK;AAAU;AAE9C,MAAM,WAAW;AACjB,MAAM,YAAY;AAEX,SAAS;IACd,MAAM,eAAe,IAAA,+MAAM,EAAiB;IAC5C,MAAM,MAAM,IAAA,+MAAM,EAAsB;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa,OAAO,IAAI,IAAI,OAAO,EAAE;QAE1C,MAAM,0IAA8C;QAEpD,IAAI,CAAC,OAAO;YACV,SAAS;YACT;QACF;QAEA,+JAAQ,CAAC,WAAW,GAAG;QAEvB,IAAI;YACF,IAAI,OAAO,GAAG,IAAI,+JAAQ,CAAC,GAAG,CAAC;gBAC7B,WAAW,aAAa,OAAO;gBAC/B,OAAO;gBACP,QAAQ;oBAAC;oBAAG;iBAAG;gBACf,MAAM;gBACN,YAAY;gBACZ,oBAAoB;YACtB;QACF,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,GAAG,CAAC,wBAAwB;YACpC;QACF;QAEA,IAAI,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;YACvB,QAAQ,GAAG,CAAC,sBAAsB,EAAE,KAAK;QAC3C;QAEA,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc;YAC3B,IAAI,CAAC,IAAI,OAAO,EAAE;YAElB,2BAA2B;YAC3B,IAAI,OAAO,CAAC,MAAM,CAAC;gBACjB,OAAO;gBACP,cAAc;gBACd,iBAAiB;gBACjB,eAAe;gBACf,kBAAkB;YACpB;YAEA,YAAY;QACd;QAEA,IAAI,OAAO,CAAC,EAAE,CAAC,QAAQ;YACrB,IAAI,CAAC,IAAI,OAAO,EAAE;YAElB,4CAA4C;YAC5C,IAAI,OAAO,CAAC,SAAS,CAAC,SAAS;gBAC7B,MAAM;gBACN,MAAM;oBACJ,MAAM;oBACN,YAAY,CAAC;oBACb,UAAU;wBACR,MAAM;wBACN,aAAa;4BACX;gCAAC,SAAS,GAAG;gCAAE,SAAS,GAAG;6BAAC;4BAC5B;gCAAC,UAAU,GAAG;gCAAE,UAAU,GAAG;6BAAC;yBAC/B;oBACH;gBACF;YACF;YAEA,IAAI,OAAO,CAAC,QAAQ,CAAC;gBACnB,IAAI;gBACJ,MAAM;gBACN,QAAQ;gBACR,QAAQ;oBACN,aAAa;oBACb,YAAY;gBACd;gBACA,OAAO;oBACL,cAAc;oBACd,cAAc;oBACd,gBAAgB;gBAClB;YACF;YAEA,0BAA0B;YAC1B,MAAM,aAAa,SAAS,aAAa,CAAC;YAC1C,WAAW,SAAS,GAAG;YACvB,WAAW,SAAS,GAAG,CAAC;;;;;;;;;;MAUxB,CAAC;YAED,IAAI,+JAAQ,CAAC,MAAM,CAAC,YACjB,SAAS,CAAC;gBAAC,SAAS,GAAG;gBAAE,SAAS,GAAG;aAAC,EACtC,QAAQ,CACP,IAAI,+JAAQ,CAAC,KAAK,CAAC;gBAAE,QAAQ;YAAG,GAAG,OAAO,CACxC,CAAC,4DAA4D,CAAC,GAGjE,KAAK,CAAC,IAAI,OAAO;YAEpB,4BAA4B;YAC5B,MAAM,UAAU,SAAS,aAAa,CAAC;YACvC,QAAQ,SAAS,GAAG;YACpB,QAAQ,SAAS,GAAG,CAAC;;;;;;;;;;MAUrB,CAAC;YAED,IAAI,+JAAQ,CAAC,MAAM,CAAC,SACjB,SAAS,CAAC;gBAAC,UAAU,GAAG;gBAAE,UAAU,GAAG;aAAC,EACxC,QAAQ,CACP,IAAI,+JAAQ,CAAC,KAAK,CAAC;gBAAE,QAAQ;YAAG,GAAG,OAAO,CACxC,CAAC,yDAAyD,CAAC,GAG9D,KAAK,CAAC,IAAI,OAAO;QACtB;QAEA,0BAA0B;QAC1B,IAAI,OAAO,CAAC,UAAU,CAAC,IAAI,+JAAQ,CAAC,iBAAiB,IAAI;QAEzD,UAAU;QACV,OAAO;YACL,IAAI,IAAI,OAAO,EAAE;gBACf,IAAI,OAAO,CAAC,MAAM;gBAClB,IAAI,OAAO,GAAG;YAChB;QACF;IACF,GAAG,EAAE;IAEL,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;IAGtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBACZ,CAAC,0BACA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCAAgB;;;;;;;;;;;kCAGnC,8OAAC;wBAAI,KAAK;wBAAc,WAAU;wBAAgB,OAAO;4BAAE,QAAQ;wBAAiC;;;;;;;;;;;;0BAItG,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAK,WAAU;0CAAwB;;;;;;;;;;;;kCAE1C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAK,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;;;;;;;AAKlD"}}]
}